{"version":3,"file":"ngx-bootstrap-positioning.js","sources":["../../../../src/positioning/models/index.ts","../../../../src/positioning/utils/getStyleComputedProperty.ts","../../../../src/positioning/utils/isBrowser.ts","../../../../src/positioning/utils/isIE.ts","../../../../src/positioning/utils/getOffsetParent.ts","../../../../src/positioning/utils/isOffsetContainer.ts","../../../../src/positioning/utils/getRoot.ts","../../../../src/positioning/utils/findCommonOffsetParent.ts","../../../../src/positioning/utils/getFixedPositionOffsetParent.ts","../../../../src/positioning/utils/getBordersSize.ts","../../../../src/positioning/utils/getWindowSizes.ts","../../../../src/positioning/utils/getScroll.ts","../../../../src/positioning/utils/getClientRect.ts","../../../../src/positioning/utils/isNumeric.ts","../../../../src/positioning/utils/getBoundingClientRect.ts","../../../../src/positioning/utils/getParentNode.ts","../../../../src/positioning/utils/getScrollParent.ts","../../../../src/positioning/utils/includeScroll.ts","../../../../src/positioning/utils/getOffsetRectRelativeToArbitraryNode.ts","../../../../src/positioning/utils/getViewportOffsetRectRelativeToArtbitraryNode.ts","../../../../src/positioning/utils/isFixed.ts","../../../../src/positioning/utils/getBoundaries.ts","../../../../src/positioning/utils/computeAutoPlacement.ts","../../../../src/positioning/utils/getOffsets.ts","../../../../src/positioning/utils/getOppositePlacement.ts","../../../../src/positioning/utils/getOppositeVariation.ts","../../../../src/positioning/utils/getOuterSizes.ts","../../../../src/positioning/utils/getReferenceOffsets.ts","../../../../src/positioning/utils/getTargetOffsets.ts","../../../../src/positioning/utils/isModifierEnabled.ts","../../../../src/positioning/utils/checkMargin.ts","../../../../src/positioning/utils/updateContainerClass.ts","../../../../src/positioning/utils/setStyles.ts","../../../../src/positioning/modifiers/arrow.ts","../../../../src/positioning/modifiers/flip.ts","../../../../src/positioning/modifiers/initData.ts","../../../../src/positioning/modifiers/preventOverflow.ts","../../../../src/positioning/modifiers/shift.ts","../../../../src/positioning/ng-positioning.ts","../../../../src/positioning/positioning.service.ts","../../../../src/positioning/ngx-bootstrap-positioning.ts"],"names":["runIsIE"],"mappings":"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","sourcesContent":["export interface Offsets {\n  width: number;\n  height: number;\n  bottom?: number;\n  left?: number;\n  right?: number;\n  top?: number;\n  marginTop?: number;\n  marginLeft?: number;\n}\n\nexport interface Data {\n  options: Options;\n  instance: {\n    target: HTMLElement;\n    host: HTMLElement;\n    arrow?: HTMLElement;\n  };\n  offsets: {\n    target: Offsets;\n    host: Offsets;\n    arrow?: Record<string, string | number | HTMLElement>;\n  };\n  positionFixed: boolean;\n  placement: string;\n  placementAuto: boolean;\n}\n\nexport interface Options {\n  placement?: string;\n  modifiers: {\n    flip?: {\n      enabled: boolean;\n    };\n    preventOverflow?: {\n      enabled: boolean;\n      boundariesElement?: string;\n    };\n  };\n  allowedPositions?: string[];\n}\n\nexport enum MapPlacementInToRL {\n  top = 'top',\n  bottom = 'bottom',\n  left = 'left',\n  right = 'right',\n  auto = 'auto',\n  end = 'right',\n  start = 'left',\n  'top left' = 'top left',\n  'top right' = 'top right',\n  'right top' = 'right top',\n  'right bottom' = 'right bottom',\n  'bottom right' = 'bottom right',\n  'bottom left' = 'bottom left',\n  'left bottom' = 'left bottom',\n  'left top' = 'left top',\n  'top start' = 'top left',\n  'top end' = 'top right',\n  'end top' = 'right top',\n  'end bottom' = 'right bottom',\n  'bottom end' = 'bottom right',\n  'bottom start' = 'bottom left',\n  'start bottom' = 'start bottom',\n  'start top' = 'left top',\n}\n\nexport enum PlacementForBs5 {\n  top = 'top',\n  bottom = 'bottom',\n  left = 'start',\n  right = 'end',\n  auto = 'auto',\n  end = 'end',\n  start = 'start',\n  'top left' = 'top start',\n  'top right' = 'top end',\n  'right top' = 'end top',\n  'right bottom' = 'end bottom',\n  'bottom right' = 'bottom end',\n  'bottom left' = 'bottom start',\n  'left bottom' = 'start bottom',\n  'left top' = 'start top',\n  'top start' = 'top start',\n  'top end' = 'top end',\n  'end top' = 'end top',\n  'end bottom' = 'end bottom',\n  'bottom end' = 'bottom end',\n  'bottom start' = 'bottom start',\n  'start bottom' = 'start bottom',\n  'start top' = 'start top',\n}\n\nexport type AvailbleBSPositions = 'top' | 'bottom' | 'left' | 'right' | 'auto' | 'top left' | 'top right' | 'right top' | 'right bottom' | 'bottom right' | 'bottom left' | 'left bottom' | 'left top' | 'start' | 'end' | 'top start' | 'top end' | 'end top' | 'end bottom' | 'bottom end' | 'bottom start' | 'start bottom' | 'start top';\n","/**\n * Get CSS computed property of the given element\n */\nexport function getStyleComputedProperty(element: Element): CSSStyleDeclaration;\nexport function getStyleComputedProperty(element: Element, property?: string): string | string[];\nexport function getStyleComputedProperty(element: Element, property?: string): string | string[] | CSSStyleDeclaration {\n  if (element.nodeType !== 1) {\n    return [];\n  }\n  // NOTE: 1 DOM access here\n  const window = element.ownerDocument.defaultView;\n  const css = window?.getComputedStyle(element, null);\n\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  return property ? css && css[property] : css;\n}\n","export const isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\n","/**\n * Determines if the browser is Internet Explorer\n */\nimport { isBrowser } from './isBrowser';\n\n// todo: valorkin fix and drop IE support :evil:\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isIE11 = isBrowser && !!(window.MSInputMethodContext && (document as any).documentMode);\nconst isIE10 = isBrowser && !!(window.MSInputMethodContext && /MSIE 10/.test(navigator.userAgent));\n\nexport function isIE(version?: number) {\n  if (version === 11) {\n    return isIE11;\n  }\n  if (version === 10) {\n    return isIE10;\n  }\n\n  return isIE11 || isIE10;\n}\n","/**\n * Returns the offset parent of the given element\n */\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\nimport { isIE } from './isIE';\n\nexport function getOffsetParent(element: HTMLElement): HTMLElement {\n  if (!element) {\n    return document.documentElement;\n  }\n\n  const noOffsetParent = isIE(10) ? document.body : null;\n\n  // NOTE: 1 DOM access here\n  let offsetParent = element?.offsetParent;\n\n  // Skip hidden elements which don't have an offsetParent\n  let sibling: HTMLElement | undefined = void 0;\n\n  while (offsetParent === noOffsetParent\n         && element.nextElementSibling\n         && sibling !== element.nextElementSibling) {\n\n      // todo: valorkin fix\n      sibling = element.nextElementSibling as HTMLElement;\n      offsetParent = sibling.offsetParent;\n    }\n\n  const nodeName = offsetParent && offsetParent.nodeName;\n\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\n    return sibling ? sibling.ownerDocument.documentElement : document.documentElement;\n  }\n\n  // .offsetParent will return the closest TH, TD or TABLE in case\n  if (\n    offsetParent &&\n    ['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 &&\n    getStyleComputedProperty(offsetParent, 'position') === 'static'\n  ) {\n    return getOffsetParent(offsetParent as HTMLElement);\n  }\n\n  return offsetParent as HTMLElement;\n}\n","import { getOffsetParent } from './getOffsetParent';\n\n// todo: valorkin fix\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isOffsetContainer(element: any) {\n  const { nodeName } = element;\n  if (nodeName === 'BODY') {\n    return false;\n  }\n\n  return (\n    nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element\n  );\n}\n","/**\n * Finds the root node (document, shadowDOM root) of the given element\n */\nexport function getRoot(node: Node|ShadowRoot): Node|ShadowRoot {\n  if (node.parentNode !== null) {\n    return getRoot(node.parentNode);\n  }\n\n  return node;\n}\n","/**\n * Finds the offset parent common to the two provided nodes\n */\nimport { isOffsetContainer } from './isOffsetContainer';\nimport { getRoot } from './getRoot';\nimport { getOffsetParent } from './getOffsetParent';\n\nexport function findCommonOffsetParent(element1: HTMLElement, element2: HTMLElement): HTMLElement {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\n    return document.documentElement;\n  }\n\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\n    const order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\n\n  const start = order ? element1 : element2;\n  const end = order ? element2 : element1;\n\n  // Get common ancestor container\n  const range = document.createRange();\n  range.setStart(start, 0);\n  range.setEnd(end, 0);\n\n  // todo: valorkin fix\n  const commonAncestorContainer = range.commonAncestorContainer as unknown as HTMLElement;\n\n  // Both nodes are inside #document\n  if (\n    (element1 !== commonAncestorContainer &&\n      element2 !== commonAncestorContainer) ||\n    start.contains(end)\n  ) {\n    if (isOffsetContainer(commonAncestorContainer)) {\n      return commonAncestorContainer;\n    }\n\n    return getOffsetParent(commonAncestorContainer);\n  }\n\n  // one of the nodes is inside shadowDOM, find which one\n  const element1root = getRoot(element1) as ShadowRoot;\n  if (element1root.host) {\n    return findCommonOffsetParent(element1root.host as HTMLElement, element2);\n  } else {\n    return findCommonOffsetParent(element1, (getRoot(element2) as ShadowRoot).host as HTMLElement);\n  }\n}\n","/**\n * Finds the first parent of an element that has a transformed property defined\n */\n\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\nimport { isIE } from './isIE';\n\nexport function getFixedPositionOffsetParent(element: HTMLElement): HTMLElement {\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\n  if (!element || !element.parentElement || isIE()) {\n   return document.documentElement;\n  }\n\n  let el = element.parentElement;\n\n  while (el?.parentElement && getStyleComputedProperty(el, 'transform') === 'none') {\n    el = el.parentElement;\n  }\n\n  return el || document.documentElement;\n}\n","/**\n * Helper to detect borders of a given element\n */\n\nexport function getBordersSize(styles: CSSStyleDeclaration, axis: string): number {\n  const sideA = axis === 'x' ? 'Left' : 'Top';\n  const sideB = sideA === 'Left' ? 'Right' : 'Bottom';\n\n  return (\n    parseFloat((styles as never)[`border${sideA}Width`]) +\n    parseFloat((styles as never)[`border${sideB}Width`])\n  );\n}\n","import { isIE } from './isIE';\n\nfunction getSize(axis: string, body: HTMLElement, html: HTMLElement, computedStyle?: CSSStyleDeclaration) {\n  const _body = body as unknown as Record<string, number>;\n  const _html = html as never;\n  const _computedStyle = computedStyle as unknown as Record<string, string>;\n\n  return Math.max(\n    _body[`offset${axis}`],\n    _body[`scroll${axis}`],\n    _html[`client${axis}`],\n    _html[`offset${axis}`],\n    _html[`scroll${axis}`],\n    isIE(10)\n      ? (parseInt(_html[`offset${axis}`], 10) +\n      parseInt(_computedStyle[`margin${axis === 'Height' ? 'Top' : 'Left'}`], 10) +\n      parseInt(_computedStyle[`margin${axis === 'Height' ? 'Bottom' : 'Right'}`], 10))\n    : 0\n  );\n}\n\nexport function getWindowSizes(document: Document) {\n  const body = document.body;\n  const html = document.documentElement;\n  const computedStyle = isIE(10) ? getComputedStyle(html) : void 0;\n\n  return {\n    height: getSize('Height', body, html, computedStyle),\n    width: getSize('Width', body, html, computedStyle)\n  };\n}\n","/**\n * Gets the scroll value of the given element in the given side (top and left)\n */\nexport function getScroll(element: HTMLElement, side = 'top') {\n  const upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\n  const nodeName = element.nodeName;\n\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    const html = element.ownerDocument.documentElement;\n    const scrollingElement = element.ownerDocument.scrollingElement || html;\n\n    return scrollingElement[upperSide];\n  }\n\n  return element[upperSide];\n}\n","/**\n * Given element offsets, generate an output similar to getBoundingClientRect\n */\nimport { Offsets } from '../models';\n\nexport function getClientRect(offsets: Offsets): Offsets {\n  return {\n    ...offsets,\n    right: (offsets.left || 0) + offsets.width,\n    bottom: (offsets.top || 0) + offsets.height\n  };\n}\n","/**\n * Tells if a given input is a number\n */\nexport function isNumeric(n: string): boolean {\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(Number(n));\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function isNumber(value?: any): value is number {\n  return typeof value === 'number' || Object.prototype.toString.call(value) === '[object Number]';\n}\n","/**\n * Get bounding client rect of given element\n */\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\nimport { getBordersSize } from './getBordersSize';\nimport { getWindowSizes } from './getWindowSizes';\nimport { getScroll } from './getScroll';\nimport { getClientRect } from './getClientRect';\nimport { isIE } from './isIE';\nimport { Offsets } from '../models';\nimport { isNumber } from './isNumeric';\n\nexport function getBoundingClientRect(element: HTMLElement): Offsets {\n  const rect: Offsets = element.getBoundingClientRect();\n\n  // IE10 10 FIX: Please, don't ask, the element isn't\n  // considered in DOM in some circumstances...\n  // This isn't reproducible in IE10 compatibility mode of IE11\n  try {\n    if (isIE(10)) {\n      const scrollTop = getScroll(element, 'top');\n      const scrollLeft = getScroll(element, 'left');\n      if (rect && isNumber(rect.top) && isNumber(rect.left) && isNumber(rect.bottom) && isNumber(rect.right)) {\n        rect.top += scrollTop;\n        rect.left += scrollLeft;\n        rect.bottom += scrollTop;\n        rect.right += scrollLeft;\n      }\n    }\n  } catch (e) {\n    return rect;\n  }\n\n  if (!(rect && isNumber(rect.top) && isNumber(rect.left) && isNumber(rect.bottom) && isNumber(rect.right))) {\n    return rect;\n  }\n\n  const result: Offsets = {\n    left: rect.left,\n    top: rect.top,\n    width: rect.right - rect.left,\n    height: rect.bottom - rect.top\n  };\n\n  // subtract scrollbar size from sizes\n  const sizes = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : undefined;\n  const width = sizes?.width || element.clientWidth\n    || isNumber(result.right) && isNumber(result.left) && result.right - result.left || 0;\n  const height = sizes?.height || element.clientHeight\n    || isNumber(result.bottom) && isNumber(result.top) && result.bottom - result.top || 0;\n\n  let horizScrollbar = element.offsetWidth - width;\n  let vertScrollbar = element.offsetHeight - height;\n\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\n  // we make this check conditional for performance reasons\n  if (horizScrollbar || vertScrollbar) {\n    const styles = getStyleComputedProperty(element);\n    horizScrollbar -= getBordersSize(styles, 'x');\n    vertScrollbar -= getBordersSize(styles, 'y');\n\n    result.width -= horizScrollbar;\n    result.height -= vertScrollbar;\n  }\n\n  return getClientRect(result);\n}\n","/**\n * Returns the parentNode or the host of the element\n */\n// todo: valorkin fix\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getParentNode(element: any): any {\n  if (element.nodeName === 'HTML') {\n    return element;\n  }\n\n  return element.parentNode || element.host;\n}\n","/**\n * Returns the scrolling parent of the given element\n */\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\nimport { getParentNode } from './getParentNode';\n\n// todo: valorkin fix\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport function getScrollParent(element: any): any {\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\n  if (!element) {\n    return document.body;\n  }\n\n  switch (element.nodeName) {\n    case 'HTML':\n    case 'BODY':\n      return element.ownerDocument.body;\n    case '#document':\n      return element.body;\n    default:\n  }\n\n  // Firefox want us to check `-x` and `-y` variations as well\n  const { overflow, overflowX, overflowY } = getStyleComputedProperty(element);\n  if (/(auto|scroll|overlay)/.test(String(overflow) + String(overflowY) + String(overflowX))) {\n    return element;\n  }\n\n  return getScrollParent(getParentNode(element));\n}\n","/**\n * Sum or subtract the element scroll values (left and top) from a given rect object\n */\nimport { getScroll } from './getScroll';\nimport { Offsets } from '../models';\nimport { isNumber } from './isNumeric';\n\nexport function includeScroll(rect: Offsets, element: HTMLElement, subtract = false) {\n  const scrollTop = getScroll(element, 'top');\n  const scrollLeft = getScroll(element, 'left');\n  const modifier = subtract ? -1 : 1;\n  if (isNumber(rect.top)) {\n    rect.top += scrollTop * modifier;\n  }\n  if (isNumber(rect.bottom)) {\n    rect.bottom += scrollTop * modifier;\n  }\n\n  if (isNumber(rect.left)) {\n    rect.left += scrollLeft * modifier;\n  }\n  if (isNumber(rect.right)) {\n    rect.right += scrollLeft * modifier;\n  }\n\n  return rect;\n}\n","import { getBoundingClientRect } from './getBoundingClientRect';\nimport { getClientRect } from './getClientRect';\nimport { getScrollParent } from './getScrollParent';\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\nimport { includeScroll } from './includeScroll';\nimport { isIE as runIsIE } from './isIE';\nimport { Offsets } from '../models';\nimport { isNumber } from './isNumeric';\n\nexport function getOffsetRectRelativeToArbitraryNode(\n  children: HTMLElement,\n  parent: HTMLElement,\n  fixedPosition = false\n): Offsets {\n  const isIE10 = runIsIE(10);\n  const isHTML = parent.nodeName === 'HTML';\n  const childrenRect = getBoundingClientRect(children);\n  const parentRect = getBoundingClientRect(parent);\n  const scrollParent = getScrollParent(children);\n\n  const styles = getStyleComputedProperty(parent);\n  const borderTopWidth = parseFloat(styles.borderTopWidth);\n  const borderLeftWidth = parseFloat(styles.borderLeftWidth);\n\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\n  if (fixedPosition && isHTML) {\n    parentRect.top = Math.max(parentRect.top ?? 0, 0);\n    parentRect.left = Math.max(parentRect.left ?? 0, 0);\n  }\n\n  let offsets: Offsets = getClientRect({\n    top: (childrenRect.top ?? 0) - (parentRect.top ?? 0) - borderTopWidth,\n    left: (childrenRect.left ?? 0) - (parentRect.left ?? 0) - borderLeftWidth,\n    width: childrenRect.width,\n    height: childrenRect.height\n  });\n\n  offsets.marginTop = 0;\n  offsets.marginLeft = 0;\n\n  // Subtract margins of documentElement in case it's being used as parent\n  // we do this only on HTML because it's the only element that behaves\n  // differently when margins are applied to it. The margins are included in\n  // the box of the documentElement, in the other cases not.\n  if (!isIE10 && isHTML) {\n    const marginTop = parseFloat(styles.marginTop);\n    const marginLeft = parseFloat(styles.marginLeft);\n\n    if (isNumber(offsets.top)) {\n      offsets.top -= borderTopWidth - marginTop;\n    }\n    if (isNumber(offsets.bottom)) {\n      offsets.bottom -= borderTopWidth - marginTop;\n    }\n    if (isNumber(offsets.left)) {\n      offsets.left -= borderLeftWidth - marginLeft;\n    }\n    if (isNumber(offsets.right)) {\n      offsets.right -= borderLeftWidth - marginLeft;\n    }\n\n    // Attach marginTop and marginLeft because in some circumstances we may need them\n    offsets.marginTop = marginTop;\n    offsets.marginLeft = marginLeft;\n  }\n\n  if (\n    isIE10 && !fixedPosition\n      ? parent.contains(scrollParent)\n      : parent === scrollParent && scrollParent.nodeName !== 'BODY'\n  ) {\n    offsets = includeScroll(offsets, parent);\n  }\n\n  return offsets;\n}\n","import { getClientRect } from './getClientRect';\nimport { getOffsetRectRelativeToArbitraryNode } from './getOffsetRectRelativeToArbitraryNode';\nimport { getScroll } from './getScroll';\nimport { Offsets } from '../models';\n\nexport function getViewportOffsetRectRelativeToArtbitraryNode(element: HTMLElement, excludeScroll = false): Offsets {\n  const html = element.ownerDocument.documentElement;\n  const relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\n  const width = Math.max(html.clientWidth, window.innerWidth || 0);\n  const height = Math.max(html.clientHeight, window.innerHeight || 0);\n\n  const scrollTop = !excludeScroll ? getScroll(html) : 0;\n  const scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\n\n  const offset = {\n    top: scrollTop - Number(relativeOffset?.top) + Number(relativeOffset?.marginTop),\n    left: scrollLeft - Number(relativeOffset?.left) + Number(relativeOffset?.marginLeft),\n    width,\n    height\n  };\n\n  return getClientRect(offset);\n}\n","/**\n * Check if the given element is fixed or is inside a fixed parent\n */\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\nimport { getParentNode } from './getParentNode';\n\nexport function isFixed(element: HTMLElement): boolean {\n  const nodeName = element.nodeName;\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\n    return false;\n  }\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\n    return true;\n  }\n\n  return isFixed(getParentNode(element));\n}\n","/**\n * Computed the boundaries limits and return them\n */\nimport { Offsets } from '../models';\nimport { findCommonOffsetParent } from './findCommonOffsetParent';\nimport { getFixedPositionOffsetParent } from './getFixedPositionOffsetParent';\nimport { getOffsetRectRelativeToArbitraryNode } from './getOffsetRectRelativeToArbitraryNode';\nimport { getParentNode } from './getParentNode';\nimport { getScrollParent } from './getScrollParent';\nimport { getViewportOffsetRectRelativeToArtbitraryNode } from './getViewportOffsetRectRelativeToArtbitraryNode';\nimport { getWindowSizes } from './getWindowSizes';\nimport { isFixed } from './isFixed';\nimport { isNumber } from './isNumeric';\n\nexport function getBoundaries(\n  target: HTMLElement,\n  host: HTMLElement,\n  padding = 0,\n  boundariesElement: string,\n  fixedPosition = false\n): Partial<Offsets> {\n  // NOTE: 1 DOM access here\n\n  let boundaries: Partial<Offsets> = { top: 0, left: 0 };\n  const offsetParent = fixedPosition ? getFixedPositionOffsetParent(target) : findCommonOffsetParent(target, host);\n\n  // Handle viewport case\n  if (boundariesElement === 'viewport') {\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\n  } else {\n    // Handle other cases based on DOM element used as boundaries\n    let boundariesNode;\n    if (boundariesElement === 'scrollParent') {\n      boundariesNode = getScrollParent(getParentNode(host));\n      if (boundariesNode.nodeName === 'BODY') {\n        boundariesNode = target.ownerDocument.documentElement;\n      }\n    } else if (boundariesElement === 'window') {\n      boundariesNode = target.ownerDocument.documentElement;\n    } else {\n      boundariesNode = boundariesElement;\n    }\n\n    const offsets = getOffsetRectRelativeToArbitraryNode(\n      boundariesNode,\n      offsetParent,\n      fixedPosition\n    );\n\n    // In case of HTML, we need a different computation\n    if (offsets && boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\n      const { height, width } = getWindowSizes(target.ownerDocument);\n      if (isNumber(boundaries.top) && isNumber(offsets.top) && isNumber(offsets.marginTop)) {\n        boundaries.top += offsets.top - offsets.marginTop;\n      }\n      if (isNumber(boundaries.top)) {\n        boundaries.bottom = Number(height) + Number(offsets.top);\n      }\n      if (isNumber(boundaries.left) && isNumber(offsets.left) && isNumber(offsets.marginLeft)) {\n        boundaries.left += offsets.left - offsets.marginLeft;\n      }\n      if (isNumber(boundaries.top)) {\n        boundaries.right = Number(width) + Number(offsets.left);\n      }\n    } else if (offsets) {\n      // for all the other DOM elements, this one is good\n      boundaries = offsets;\n    }\n  }\n\n  // Add paddings\n  if (isNumber(boundaries.left)) {\n    boundaries.left += padding;\n  }\n  if (isNumber(boundaries.top)) {\n    boundaries.top += padding;\n  }\n  if (isNumber(boundaries.right)) {\n    boundaries.right -= padding;\n  }\n  if (isNumber(boundaries.bottom)) {\n    boundaries.bottom -= padding;\n  }\n\n  return boundaries;\n}\n","/**\n * Utility used to transform the `auto` placement to the placement with more\n * available space.\n */\nimport { getBoundaries } from './getBoundaries';\nimport { Offsets, PlacementForBs5 } from '../models';\nimport { getBsVer } from 'ngx-bootstrap/utils';\n\nfunction getArea({ width, height }: { width: number, height: number }) {\n  return width * height;\n}\n\nexport function computeAutoPlacement(\n  placement: string,\n  refRect: Offsets,\n  target: HTMLElement,\n  host: HTMLElement,\n  allowedPositions = ['top', 'bottom', 'right', 'left'],\n  boundariesElement = 'viewport',\n  padding = 0\n) {\n  if (placement.indexOf('auto') === -1) {\n    return placement;\n  }\n\n  const boundaries = getBoundaries(target, host, padding, boundariesElement);\n\n  type Rects = {top: Offsets, right: Offsets, bottom: Offsets, left: Offsets};\n  const rects: Rects = {\n    top: {\n      width: boundaries.width ?? 0,\n      height: refRect.top && boundaries.top ? refRect.top - boundaries.top : 0\n    },\n    right: {\n      width: boundaries.right && refRect.right ? boundaries.right - refRect.right : 0,\n      height: boundaries.height ?? 0\n    },\n    bottom: {\n      width: boundaries.width ?? 0,\n      height: boundaries.bottom && refRect.bottom ? boundaries.bottom - refRect.bottom: 0\n    },\n    left: {\n      width: refRect.left && boundaries.left ? refRect.left - boundaries.left : 0,\n      height: boundaries.height ?? 0\n    }\n  };\n\n  const sortedAreas = Object.keys(rects)\n    .map((key) => ({\n      key,\n      ...rects[key as keyof Rects],\n      area: getArea(rects[key as keyof Rects] as {width: number, height: number})\n    }))\n    .sort((a, b) => b.area - a.area);\n\n  let filteredAreas = sortedAreas.filter(\n    ({ width, height }) => {\n      return width >= target.clientWidth\n        && height >= target.clientHeight;\n    }\n  );\n\n  filteredAreas = filteredAreas.filter((position) => {\n    return allowedPositions\n      .some((allowedPosition: string) => {\n        return allowedPosition === position.key;\n      });\n  });\n\n  const computedPlacement: string = filteredAreas.length > 0\n    ? filteredAreas[0].key\n    : sortedAreas[0].key;\n\n  const variation = placement.split(' ')[1];\n  // for tooltip on auto position\n  target.className = target.className.replace(/bs-tooltip-auto/g, `bs-tooltip-${getBsVer().isBs5 ? PlacementForBs5[computedPlacement as keyof typeof PlacementForBs5] : computedPlacement}`);\n\n  return computedPlacement + (variation ? `-${variation}` : '');\n}\n","import { Data, Offsets } from '../models';\n\nexport function getOffsets(data: Data): Offsets {\n  return {\n    width: data.offsets.target.width,\n    height: data.offsets.target.height,\n    left: Math.floor(data.offsets.target.left ?? 0),\n    top: Math.round(data.offsets.target.top ?? 0),\n    bottom: Math.round(data.offsets.target.bottom ?? 0),\n    right: Math.floor(data.offsets.target.right ?? 0)\n  };\n}\n","/**\n * Get the opposite placement of the given one\n */\nexport function getOppositePlacement(placement: string): string {\n  const hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\n\n  return placement.replace(/left|right|bottom|top/g, matched => hash[matched as keyof typeof hash]);\n}\n","/**\n * Get the opposite placement variation of the given one\n */\nexport function getOppositeVariation(variation: string) {\n  if (variation === 'right') {\n    return 'left';\n  } else if (variation === 'left') {\n    return 'right';\n  }\n\n  return variation;\n}\n","/**\n * Get the outer sizes of the given element (offset size + margins)\n */\nimport { Offsets } from '../models';\n\nconst parse = (value?: string, def = 0) => value ? parseFloat(value) : def;\nexport function getOuterSizes(element: HTMLElement): Offsets {\n  const window = element.ownerDocument.defaultView;\n  const styles = window?.getComputedStyle(element);\n  const x = parse(styles?.marginTop) + parse(styles?.marginBottom);\n  const y = parse(styles?.marginLeft) + parse(styles?.marginRight);\n\n  return {\n    width: Number(element.offsetWidth) + y,\n    height: Number(element.offsetHeight) + x\n  };\n}\n","/**\n * Get offsets to the reference element\n */\nimport { findCommonOffsetParent } from './findCommonOffsetParent';\nimport { getOffsetRectRelativeToArbitraryNode } from './getOffsetRectRelativeToArbitraryNode';\nimport { getFixedPositionOffsetParent } from './getFixedPositionOffsetParent';\nimport { Offsets } from '../models';\n\nexport function getReferenceOffsets(\n  target: HTMLElement,\n  host: HTMLElement,\n  fixedPosition?: boolean\n): Offsets {\n  const commonOffsetParent = fixedPosition\n    ? getFixedPositionOffsetParent(target)\n    : findCommonOffsetParent(target, host);\n\n  return getOffsetRectRelativeToArbitraryNode(host, commonOffsetParent, fixedPosition);\n}\n","/**\n * Get offsets to the target\n */\nimport { getOppositePlacement } from './getOppositePlacement';\nimport { getOuterSizes } from './getOuterSizes';\nimport { Offsets } from '../models';\n\n\nexport function getTargetOffsets(\n  target: HTMLElement,\n  hostOffsets: Offsets,\n  position: string\n): Offsets {\n  const placement = position.split(' ')[0];\n  // Get target node sizes\n  const targetRect = getOuterSizes(target);\n\n  // Add position, width and height to our offsets object\n  const targetOffsets = {\n    width: targetRect.width,\n    height: targetRect.height\n  };\n\n  // depending by the target placement we have to compute its offsets slightly differently\n  const isHoriz = ['right', 'left'].indexOf(placement) !== -1;\n  const mainSide = isHoriz ? 'top' : 'left';\n  const secondarySide = isHoriz ? 'left' : 'top';\n  const measurement = isHoriz ? 'height' : 'width';\n  const secondaryMeasurement = !isHoriz ? 'height' : 'width';\n\n  targetOffsets[mainSide as keyof typeof targetOffsets] =\n    (hostOffsets[mainSide] ?? 0) +\n    hostOffsets[measurement] / 2 -\n    targetRect[measurement] / 2;\n\n  targetOffsets[secondarySide as keyof typeof targetOffsets] = placement === secondarySide\n    ? (hostOffsets[secondarySide] ?? 0)- targetRect[secondaryMeasurement]\n    : hostOffsets[getOppositePlacement(secondarySide) as keyof typeof hostOffsets] ?? 0;\n\n  return targetOffsets;\n}\n","/**\n * Helper used to know if the given modifier is enabled.\n */\nimport { Options } from '../models';\n\nexport function isModifierEnabled(options: Options, modifierName: string): boolean {\n  return !!options.modifiers[modifierName as keyof typeof options.modifiers]?.enabled;\n}\n","import { getBsVer } from 'ngx-bootstrap/utils';\nimport { AvailbleBSPositions } from '../models';\n\nconst availablePositions = {\n  top: ['top', 'top start', 'top end'],\n  bottom: ['bottom', 'bottom start', 'bottom end'],\n  start: ['start', 'start top', 'start bottom'],\n  end: ['end', 'end top', 'end bottom']\n};\n\nexport function checkPopoverMargin(placement: AvailbleBSPositions, checkPosition: 'top' | 'bottom' | 'start' | 'end'): boolean {\n  if (!getBsVer().isBs5) {\n    return false;\n  }\n\n  return availablePositions[checkPosition].includes(placement);\n}\n\nexport function checkMargins(placement: any): string {\n  if (!getBsVer().isBs5) {\n    return '';\n  }\n\n  if (checkPopoverMargin(placement, 'end')) {\n    return 'ms-2';\n  }\n\n  if (checkPopoverMargin(placement, 'start')) {\n    return 'me-2';\n  }\n\n  if (checkPopoverMargin(placement, 'top')) {\n    return 'mb-2';\n  }\n\n  if (checkPopoverMargin(placement, 'bottom')) {\n    return 'mt-2';\n  }\n\n  return '';\n}\n","/**\n * Update class for the given popper\n */\nimport { Renderer2 } from '@angular/core';\nimport { Data, PlacementForBs5 } from '../models';\nimport { checkMargins } from './checkMargin';\nimport { getBsVer } from 'ngx-bootstrap/utils';\n\nexport function updateContainerClass(data: Data, renderer?: Renderer2): void {\n  const target = data.instance.target;\n\n  let containerClass = target.className;\n\n  const dataPlacement = getBsVer().isBs5 ? PlacementForBs5[data.placement as keyof typeof PlacementForBs5] : data.placement;\n  if (data.placementAuto) {\n    containerClass = containerClass.replace(/bs-popover-auto/g, `bs-popover-${dataPlacement}`);\n    containerClass = containerClass.replace(/ms-2|me-2|mb-2|mt-2/g, '');\n    containerClass = containerClass.replace(/bs-tooltip-auto/g, `bs-tooltip-${dataPlacement}`);\n    containerClass = containerClass.replace(/\\sauto/g, ` ${dataPlacement}`);\n\n    if (containerClass.indexOf('popover') !== -1) {\n      containerClass = containerClass + ' ' + checkMargins(dataPlacement);\n    }\n\n    if (containerClass.indexOf('popover') !== -1 && containerClass.indexOf('popover-auto') === -1) {\n      containerClass += ' popover-auto';\n    }\n\n    if (containerClass.indexOf('tooltip') !== -1  && containerClass.indexOf('tooltip-auto') === -1) {\n      containerClass += ' tooltip-auto';\n    }\n  }\n  containerClass = containerClass.replace(/left|right|top|bottom|end|start/g, `${dataPlacement.split(' ')[0]}`);\n\n  if (renderer) {\n    renderer.setAttribute(target, 'class', containerClass);\n\n    return;\n  }\n\n  target.className = containerClass;\n}\n","/**\n * Set the style to the given popper\n */\nimport { Renderer2 } from '@angular/core';\n\nimport { isNumeric } from './isNumeric';\n\nexport function setStyles(element: HTMLElement | null, styles?: Record<string, string|number|HTMLElement>, renderer?: Renderer2) {\n  if (!element || !styles) {\n    return;\n  }\n  Object.keys(styles).forEach((prop) => {\n    let unit = '';\n    // add unit if the value is numeric and is one of the following\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 &&\n      isNumeric(styles[prop] as string)) {\n      unit = 'px';\n    }\n\n    if (renderer) {\n      renderer.setStyle(element, prop, `${String(styles[prop])}${unit}`);\n\n      return;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (element.style as any)[prop] = String(styles[prop]) + unit;\n  });\n}\n","import { getClientRect, getOuterSizes, getStyleComputedProperty } from '../utils';\nimport { Data } from '../models';\n\nexport function arrow(data: Data) {\n  let targetOffsets = data.offsets.target;\n  // if arrowElement is a string, suppose it's a CSS selector\n  const arrowElement: HTMLElement | null = data.instance.target.querySelector('.arrow');\n\n  // if arrowElement is not found, don't run the modifier\n  if (!arrowElement) {\n    return data;\n  }\n\n  const isVertical = ['left', 'right'].indexOf(data.placement.split(' ')[0]) !== -1;\n\n  const len = isVertical ? 'height' : 'width';\n  const sideCapitalized = isVertical ? 'Top' : 'Left';\n  const side = sideCapitalized.toLowerCase() as keyof typeof targetOffsets;\n  const altSide = isVertical ? 'left' : 'top';\n  const opSide = isVertical ? 'bottom' : 'right';\n  const arrowElementSize = getOuterSizes(arrowElement)[len];\n  const placementVariation = data.placement.split(' ')[1];\n\n  // top/left side\n  if ((data.offsets.host[opSide] ?? 0) - arrowElementSize < (targetOffsets[side] ?? 0)) {\n    (targetOffsets)[side] -=\n      (targetOffsets[side] ?? 0) - ((data.offsets.host[opSide] ?? 0) - arrowElementSize);\n  }\n  // bottom/right side\n  if (Number((data).offsets.host[side]) + Number(arrowElementSize) > (targetOffsets[opSide] ?? 0)) {\n    (targetOffsets)[side] +=\n      Number((data).offsets.host[side]) + Number(arrowElementSize) - Number((targetOffsets)[opSide]);\n  }\n  targetOffsets = getClientRect(targetOffsets);\n\n  // Compute the sideValue using the updated target offsets\n  // take target margin in account because we don't have this info available\n  const css = getStyleComputedProperty(data.instance.target) as unknown as Record<string, string>;\n  const targetMarginSide = parseFloat(css[`margin${sideCapitalized}`]) || 0;\n  const targetBorderSide = parseFloat(css[`border${sideCapitalized}Width`]) || 0;\n\n  // compute center of the target\n  let center: number;\n  if (!placementVariation) {\n    center = Number((data).offsets.host[side]) + Number(data.offsets.host[len] / 2 - arrowElementSize / 2);\n  } else {\n    const targetBorderRadius = parseFloat(css.borderRadius) || 0;\n    const targetSideArrowOffset = Number(targetMarginSide + targetBorderSide + targetBorderRadius);\n    center = side === placementVariation ?\n      Number((data).offsets.host[side]) + targetSideArrowOffset :\n      Number((data).offsets.host[side]) + Number(data.offsets.host[len] - targetSideArrowOffset);\n  }\n\n  let sideValue =\n    center - (targetOffsets[side] ?? 0) - targetMarginSide - targetBorderSide;\n\n  // prevent arrowElement from being placed not contiguously to its target\n  sideValue = Math.max(Math.min(targetOffsets[len] - (arrowElementSize + 5), sideValue), 0);\n  data.offsets.arrow = {\n    [side]: Math.round(sideValue),\n    [altSide]: '' // make sure to unset any eventual altSide value from the DOM node\n  };\n\n  data.instance.arrow = arrowElement;\n\n  return data;\n}\n","import { Data } from '../models';\nimport {\n  computeAutoPlacement,\n  getBoundaries,\n  getClientRect,\n  getOppositeVariation,\n  getTargetOffsets,\n  isModifierEnabled\n} from '../utils';\n\nexport function flip(data: Data): Data {\n  data.offsets.target = getClientRect(data.offsets.target);\n\n  if (!isModifierEnabled(data.options, 'flip')) {\n\n    data.offsets.target = {\n      ...data.offsets.target,\n      ...getTargetOffsets(\n        data.instance.target,\n        data.offsets.host,\n        data.placement\n      )\n    };\n\n    return data;\n  }\n\n  const boundaries = getBoundaries(\n    data.instance.target,\n    data.instance.host,\n    0, // padding\n    'viewport',\n    false // positionFixed\n  );\n\n  let placement = data.placement.split(' ')[0];\n  let variation = data.placement.split(' ')[1] || '';\n\n  const offsetsHost = data.offsets.host;\n  const target = data.instance.target;\n  const host = data.instance.host;\n\n  const adaptivePosition = computeAutoPlacement('auto', offsetsHost, target, host, data.options.allowedPositions);\n  const flipOrder = [placement, adaptivePosition];\n\n  flipOrder.forEach((step, index) => {\n    if (placement !== step || flipOrder.length === index + 1) {\n      return;\n    }\n\n    placement = data.placement.split(' ')[0];\n\n    // using floor because the host offsets may contain decimals we are not going to consider here\n    const overlapsRef =\n      (placement === 'left' &&\n        Math.floor(data.offsets.target.right ?? 0) > Math.floor(data.offsets.host.left ?? 0)) ||\n      (placement === 'right' &&\n        Math.floor(data.offsets.target.left ?? 0) < Math.floor(data.offsets.host.right ?? 0)) ||\n      (placement === 'top' &&\n        Math.floor(data.offsets.target.bottom ?? 0) > Math.floor(data.offsets.host.top ?? 0)) ||\n      (placement === 'bottom' &&\n        Math.floor(data.offsets.target.top ?? 0) < Math.floor(data.offsets.host.bottom ?? 0));\n\n    const overflowsLeft = Math.floor(data.offsets.target.left ?? 0) < Math.floor(boundaries.left ?? 0);\n    const overflowsRight = Math.floor(data.offsets.target.right ?? 0) > Math.floor(boundaries.right ?? 0);\n    const overflowsTop = Math.floor(data.offsets.target.top ?? 0) < Math.floor(boundaries.top ?? 0);\n    const overflowsBottom = Math.floor(data.offsets.target.bottom ?? 0) > Math.floor(boundaries.bottom ?? 0);\n\n    const overflowsBoundaries =\n      (placement === 'left' && overflowsLeft) ||\n      (placement === 'right' && overflowsRight) ||\n      (placement === 'top' && overflowsTop) ||\n      (placement === 'bottom' && overflowsBottom);\n\n    // flip the variation if required\n    const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\n    const flippedVariation =\n      ((isVertical && variation === 'left' && overflowsLeft) ||\n        (isVertical && variation === 'right' && overflowsRight) ||\n        (!isVertical && variation === 'left' && overflowsTop) ||\n        (!isVertical && variation === 'right' && overflowsBottom));\n\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\n      if (overlapsRef || overflowsBoundaries) {\n        placement = flipOrder[index + 1];\n      }\n\n      if (flippedVariation) {\n        variation = getOppositeVariation(variation);\n      }\n\n      data.placement = placement + (variation ? ` ${variation}` : '');\n\n      data.offsets.target = {\n        ...data.offsets.target,\n        ...getTargetOffsets(\n          data.instance.target,\n          data.offsets.host,\n          data.placement\n        )\n      };\n    }\n  });\n\n  return data;\n}\n","import {\n  computeAutoPlacement,\n  getReferenceOffsets,\n  getTargetOffsets\n} from '../utils';\n\nimport { Data, Options } from '../models';\n\nexport function initData(\n  targetElement: HTMLElement|null, hostElement: HTMLElement|null, position: string, options?: Options\n): Data|undefined {\n\n  if (!targetElement || !hostElement) {\n    return ;\n  }\n\n  const hostElPosition = getReferenceOffsets(targetElement, hostElement);\n\n  if (!position.match(/^(auto)*\\s*(left|right|top|bottom|start|end)*$/)\n    && !position.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)) {\n            position = 'auto';\n    }\n\n  const placementAuto = !!position.match(/auto/g);\n\n  // support old placements 'auto left|right|top|bottom'\n  let placement = position.match(/auto\\s(left|right|top|bottom|start|end)/)\n    ? position.split(' ')[1] || 'auto'\n    : position;\n\n  // Normalize placements that have identical main placement and variation (\"right right\" => \"right\").\n  const matches = placement.match(/^(left|right|top|bottom|start|end)* ?(?!\\1)(left|right|top|bottom|start|end)?/);\n  if (matches) {\n    placement = matches[1] + (matches[2] ? ` ${matches[2]}` : '');\n  }\n\n  // \"left right\", \"top bottom\" etc. placements also considered incorrect.\n  if (['left right', 'right left', 'top bottom', 'bottom top'].indexOf(placement) !== -1) {\n    placement = 'auto';\n  }\n\n  placement = computeAutoPlacement(\n    placement,\n    hostElPosition,\n    targetElement,\n    hostElement,\n    options ? options.allowedPositions : undefined\n  );\n\n  const targetOffset = getTargetOffsets(targetElement, hostElPosition, placement);\n\n  return {\n    options: options || {modifiers: {}},\n    instance: {\n      target: targetElement,\n      host: hostElement,\n      arrow: void 0\n    },\n    offsets: {\n      target: targetOffset,\n      host: hostElPosition,\n      arrow: void 0\n    },\n    positionFixed: false,\n    placement,\n    placementAuto\n  };\n}\n","import { getBoundaries, isModifierEnabled } from '../utils';\nimport { Data, Offsets } from '../models';\n\nexport function preventOverflow(data: Data) {\n\n  if (!isModifierEnabled(data.options, 'preventOverflow')) {\n    return data;\n  }\n\n  // NOTE: DOM access here\n  // resets the target Offsets's position so that the document size can be calculated excluding\n  // the size of the targetOffsets element itself\n  const transformProp = 'transform';\n  const targetStyles = data.instance.target.style; // assignment to help minification\n  const { top, left, [transformProp]: transform } = targetStyles;\n  targetStyles.top = '';\n  targetStyles.left = '';\n  targetStyles[transformProp] = '';\n\n  const boundaries = getBoundaries(\n    data.instance.target,\n    data.instance.host,\n    0, // padding\n    data.options.modifiers.preventOverflow?.boundariesElement || 'scrollParent',\n    false // positionFixed\n  );\n\n  // NOTE: DOM access here\n  // restores the original style properties after the offsets have been computed\n  targetStyles.top = top;\n  targetStyles.left = left;\n  targetStyles[transformProp] = transform;\n\n  const order = ['left', 'right', 'top', 'bottom'];\n\n  const check = {\n    primary(placement: keyof Offsets) {\n      let value = data.offsets.target[placement];\n      // options.escapeWithReference\n      if ((data.offsets.target[placement] ?? 0) < (boundaries[placement] ?? 0)) {\n        value = Math.max(data.offsets.target[placement] ?? 0, boundaries[placement] ?? 0);\n      }\n\n      return { [placement]: value };\n    },\n    secondary(placement: keyof Offsets) {\n      const mainSide = placement === 'right' ? 'left' : 'top';\n      let value = data.offsets.target[mainSide];\n      // escapeWithReference\n      if ((data.offsets.target[placement] ?? 0) < (boundaries[placement] ?? 0)) {\n        value = Math.min(\n          data.offsets.target[mainSide] ?? 0,\n          (boundaries[placement] ?? 0) -\n          (placement === 'right' ? data.offsets.target.width : data.offsets.target.height)\n        );\n      }\n\n      return { [mainSide]: value };\n    }\n  };\n\n\n  order.forEach((placement ) => {\n    const side = ['left', 'top', 'start'].indexOf(placement) !== -1 ? check['primary'] : check['secondary'];\n\n    data.offsets.target = {\n      ...data.offsets.target,\n      ...side(placement as keyof Offsets)\n    };\n\n  });\n\n  return data;\n}\n","import { Data } from '../models';\n\nexport function shift(data: Data): Data {\n  const placement = data.placement;\n  const basePlacement = placement.split(' ')[0];\n  const shiftVariation = placement.split(' ')[1];\n\n  if (shiftVariation) {\n    const { host, target } = data.offsets;\n    const isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\n    const side = isVertical ? 'left' : 'top';\n    const measurement = isVertical ? 'width' : 'height';\n\n    const shiftOffsets = {\n      start: { [side]: host[side] },\n      end: {\n        [side]: (host[side] ?? 0) + host[measurement] - target[measurement]\n      }\n    };\n\n    data.offsets.target = {\n      ...target, ...{\n        [side]: (side === shiftVariation ? shiftOffsets.start[side] : shiftOffsets.end[side])\n      }\n    };\n  }\n\n  return data;\n}\n","/**\n * @copyright Valor Software\n * @copyright Federico Zivolo and contributors\n */\nimport { Renderer2 } from '@angular/core';\nimport { Data, Offsets, Options, MapPlacementInToRL } from './models';\n\nimport { arrow, flip, initData, preventOverflow, shift } from './modifiers';\n\nimport { getOffsets, getReferenceOffsets, setStyles, updateContainerClass } from './utils';\n\n\nexport class Positioning {\n  position(hostElement: HTMLElement, targetElement: HTMLElement/*, round = true*/): Offsets | undefined {\n    return this.offset(hostElement, targetElement/*, false*/);\n  }\n\n  offset(hostElement: HTMLElement, targetElement: HTMLElement/*, round = true*/): Offsets | undefined {\n    return getReferenceOffsets(targetElement, hostElement);\n  }\n\n  positionElements(\n    hostElement: HTMLElement | null,\n    targetElement: HTMLElement | null,\n    position: string,\n    appendToBody?: boolean,\n    options?: Options\n  ): Data | undefined {\n    const chainOfModifiers = [flip, shift, preventOverflow, arrow];\n    const _position = MapPlacementInToRL[position as keyof typeof MapPlacementInToRL];\n    const data = initData(targetElement, hostElement, _position, options);\n    if (!data) {\n      return;\n    }\n\n    return chainOfModifiers.reduce(\n      (modifiedData, modifier) => modifier(modifiedData),\n      data\n    );\n  }\n}\n\nconst positionService = new Positioning();\n\nexport function positionElements(\n  hostElement: HTMLElement | null,\n  targetElement: HTMLElement | null,\n  placement: string,\n  appendToBody?: boolean,\n  options?: Options,\n  renderer?: Renderer2\n): void {\n\n  const data = positionService.positionElements(\n    hostElement,\n    targetElement,\n    placement,\n    appendToBody,\n    options\n  );\n\n  if (!data) {\n    return;\n  }\n\n  const offsets = getOffsets(data);\n\n  setStyles(targetElement, {\n    'will-change': 'transform',\n    top: '0px',\n    left: '0px',\n    transform: `translate3d(${offsets.left}px, ${offsets.top}px, 0px)`\n  }, renderer);\n\n  if (data.instance.arrow) {\n    setStyles(data.instance.arrow, data.offsets.arrow, renderer);\n  }\n\n  updateContainerClass(data, renderer);\n}\n","import { Injectable, ElementRef, RendererFactory2, Inject, PLATFORM_ID, NgZone } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\n\nimport { positionElements } from './ng-positioning';\n\nimport { fromEvent, merge, of, animationFrameScheduler, Subject, Observable } from 'rxjs';\nimport { Options } from './models';\n\n\nexport interface PositioningOptions {\n  /** The DOM element, ElementRef, or a selector string of an element which will be moved */\n  element?: HTMLElement | ElementRef | string;\n\n  /** The DOM element, ElementRef, or a selector string of an element which the element will be attached to  */\n  target?: HTMLElement | ElementRef | string;\n\n  /**\n   * A string of the form 'vert-attachment horiz-attachment' or 'placement'\n   * - placement can be \"top\", \"bottom\", \"left\", \"right\"\n   * not yet supported:\n   * - vert-attachment can be any of 'top', 'middle', 'bottom'\n   * - horiz-attachment can be any of 'left', 'center', 'right'\n   */\n  attachment?: string;\n\n  /** A string similar to `attachment`. The one difference is that, if it's not provided,\n   * `targetAttachment` will assume the mirror image of `attachment`.\n   */\n  targetAttachment?: string;\n\n  /** A string of the form 'vert-offset horiz-offset'\n   * - vert-offset and horiz-offset can be of the form \"20px\" or \"55%\"\n   */\n  offset?: string;\n\n  /** A string similar to `offset`, but referring to the offset of the target */\n  targetOffset?: string;\n\n  /** If true component will be attached to body */\n  appendToBody?: boolean;\n}\n\n\n@Injectable({providedIn: 'root'})\nexport class PositioningService {\n  private options?: Options;\n  private update$$ = new Subject<null>();\n  private positionElements = new Map();\n  private triggerEvent$?: Observable<number|Event|null>;\n  private isDisabled = false;\n\n  constructor(\n    ngZone: NgZone,\n    rendererFactory: RendererFactory2,\n    @Inject(PLATFORM_ID) platformId: number\n  ) {\n\n    if (isPlatformBrowser(platformId)) {\n      ngZone.runOutsideAngular(() => {\n        this.triggerEvent$ = merge(\n          fromEvent(window, 'scroll', { passive: true }),\n          fromEvent(window, 'resize', { passive: true }),\n                    of(0, animationFrameScheduler),\n          this.update$$\n        );\n\n        this.triggerEvent$.subscribe(() => {\n          if (this.isDisabled) {\n            return;\n          }\n\n          this.positionElements\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            .forEach((positionElement: any) => {\n              positionElements(\n                _getHtmlElement(positionElement.target),\n                _getHtmlElement(positionElement.element),\n                positionElement.attachment,\n                positionElement.appendToBody,\n                this.options,\n                rendererFactory.createRenderer(null, null)\n              );\n            });\n        });\n      });\n    }\n  }\n\n  position(options: PositioningOptions): void {\n    this.addPositionElement(options);\n  }\n\n  get event$(): Observable<number|Event|null>|undefined {\n    return this.triggerEvent$;\n  }\n\n  disable(): void {\n    this.isDisabled = true;\n  }\n\n  enable(): void {\n    this.isDisabled = false;\n  }\n\n  addPositionElement(options: PositioningOptions): void {\n    this.positionElements.set(_getHtmlElement(options.element), options);\n  }\n\n  calcPosition(): void {\n    this.update$$.next();\n  }\n\n  deletePositionElement(elRef: ElementRef): void {\n    this.positionElements.delete(_getHtmlElement(elRef));\n  }\n\n  setOptions(options: Options) {\n    this.options = options;\n  }\n}\n\nfunction _getHtmlElement(element?: HTMLElement | ElementRef | string): HTMLElement | null {\n  // it means that we got a selector\n  if (typeof element === 'string') {\n    return document.querySelector(element);\n  }\n\n  if (element instanceof ElementRef) {\n    return element.nativeElement;\n  }\n\n  return element ?? null;\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}